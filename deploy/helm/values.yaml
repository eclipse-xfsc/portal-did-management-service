replicaCount: 1
name: did-management-service

image:
  repository: registry.gitlab.com/gaia-x/data-infrastructure-federation-services/por
  name: did-management-service
  # -- Image tag
  # Uses .Chart.AppVersion if empty
  tag: "latest"
  # -- Image sha, usually generated by the CI
  # Uses image.tag if empty
  sha: ""
  # -- Image pull policy
  pullPolicy: IfNotPresent
  # -- Image pull secret when internal image is used
  pullSecrets: key

podAnnotations: {}

resources:
  # requests:
  #   cpu: 25m
  #   memory: 64Mi
  # limits:
  #   cpu: 150m
  #   memory: 128Mi

service:
  port: 8080
  type: ClusterIP

server:
  http:
    host: "0.0.0.0"
    port: 8080

ingress:
  enabled: true
  annotations:
    kubernetes.io/ingress.class: nginx
  hosts:
    - host: did-management-service.gxfs.dev
      paths:
        - path: /
          port: 8080
  tls:
  #  - secretName: cert-manager-tls
  #    hosts:
  #      - test.example.io
security:
  runAsNonRoot: false
  runAsUid: 1000
  runAsGid: 1000
config:
  baseURL: baseURL
  basePath: /
  cryptoAlgo: aes128-gcm96
  identityProviderOidURL: "https://sso-integration.gxfs.dev/realms/intranet"
  tokenRolesPath: "$.realm_access.roles"
  tokenContextPath: "$.fedId"
  kongServiceId: "f82ccab1-c3d5-43f5-a812-dcd8fb891d01"
  requiredClaims:
    [
      {
        "context": "32dc6801-0f9c-40e4-9e16-f440b47192ae",
        "claims": ["did-management"],
      },
    ]
  claimMappingUrl: "http://localhost:9998/claims"
  vaultURL: vaultURL
  vaultToken:
    key: vaultToken
    name: vaultToken
  kongAdminApiURL: kongAdminApiURL
  tsaGetDidConfigurationUrl: tsaGetDidConfigurationUrl
  tsaSaveDidConfigurationUrl: tsaSaveDidConfigurationUrl
  tsaServiceUrl: tsaUrl
  ocmEndpoints: "ocmEndpoints1,ocmEndpoints2"
